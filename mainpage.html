<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Information System</title>
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    .drawer {
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 1;
      top: 0;
      left: 0;
      background-color: #111;
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
    }
    .drawer a {
      padding: 8px 8px 8px 32px;
      text-decoration: none;
      font-size: 25px;
      color: #818181;
      display: block;
      transition: 0.3s;
    }
    .drawer a:hover {
      color: #f1f1f1;
    }
    .drawer .closebtn {
      position: absolute;
      top: 0;
      right: 25px;
      font-size: 36px;
      margin-left: 50px;
    }
    .openbtn {
      font-size: 20px;
      cursor: pointer;
      background-color: #111;
      color: white;
      padding: 10px 15px;
      border: none;
    }
    #main {
      transition: margin-left .5s;
      padding: 16px;
    }
    .profile-pic {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #007bff;
    }
    .student-list-item img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 15px;
    }
    .hidden {
      display: none;
    }
    .logo {
      font-size: 28px;
      color: #f1f1f1;
      text-align: center;
      margin-bottom: 20px;
    }
    .logo .logo-3d {
      text-shadow: 0 0 5px #007bff, 0 0 10px #007bff, 0 0 20px #007bff, 0 0 40px #007bff;
      display: inline-block;
      transform: rotateY(20deg);
    }
    .main-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
    }
    .main-header .logo {
      font-size: 20px;
      font-weight: bold;
    }
    .main-header .logo .logo-3d {
      font-size: 20px;
      margin-left: 5px;
    }

    .drawer {
      /* Adjust height according to your design */
      height: 100vh; /* 80% of viewport height */
      overflow-y: auto; /* Enable vertical scrolling */
      /* Other styles as per your design */
  }
  
  </style>
</head>
<body>

<div id="myDrawer" class="drawer">
  <div class="main-header">
    <h1 class="logo">Dinajpur<span class="logo-3d">.RU</span></h1>
    <a href="javascript:void(0)" class="closebtn" onclick="closeDrawer()">&times;</a>
  </div>
  <a href="javascript:void(0)" onclick="showSection('home')"><i class="bi bi-house-door"></i> Home</a>
  <a href="/forms.html"><i class="bi bi-file-earmark-text"></i> Submit data</a>
  <a href="javascript:void(0)" onclick="showSection('student_info')"><i class="bi bi-people"></i> Students Info</a>
  <a href="javascript:void(0)" onclick="showSection('teacher-info')"><i class="bi bi-person-badge"></i> Teacher Info</a>
  <a href="javascript:void(0)" onclick="showSection('statistics')"><i class="bi bi-bar-chart"></i> 3D Statistics</a>
  <a href="javascript:void(0)" onclick="showSection('about-us')"><i class="bi bi-info-circle"></i> About Us</a>
  <a href="javascript:void(0)" onclick="showSection('cv')"><i class="bi bi-info-circle"></i> CV Genarator</a>
</div>

<div id="main">
  <div class="main-header">
    <button class="openbtn" onclick="openDrawer()"><i class="bi bi-list"></i> Menu</button>
    <h1 class="logo">Dinajpur<span class="logo-3d">.RU</span></h1> 

  </div>
<!-- ---------------------------------------------------------------------------------------------------------------------------->

  <div id="home">
    <style>
      body {
          font-family: 'Arial', sans-serif;
          margin: 0;
          padding: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100vh;
          background-color: #f0f8ff;
          overflow: hidden;
      }

      header {
          text-align: center;
          margin-bottom: 20px;
      }

      h1 {
          font-size: 2em;
          color: #333;
      }

      p {
          font-size: 1.2em;
          color: #555;
      }

      #menu-section {
          width: 80%;
          display: grid;
          grid-template-columns: 1fr;
          gap: 10px;
          animation: fadeIn 1.5s ease-in-out;
          max-height: 60vh;
          overflow-y: auto;
      }

      .menu-item {
          background-color: #fff;
          padding: 20px;
          border-radius: 10px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          cursor: pointer;
          transition: transform 0.3s ease, background-color 0.3s ease;
      }

      .menu-item:hover {
          transform: scale(1.05);
          background-color: #e0f7fa;
      }

      .menu-item h2 {
          margin: 0;
          font-size: 1.2em;
          color: #333;
      }

      .menu-item a {
          color: #007acc;
          text-decoration: none;
      }

      @keyframes fadeIn {
          from {
              opacity: 0;
              transform: translateY(20px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }
  </style>
</head>
<body>
  <header>
      <h1>অ্যাপসটির কার্যক্রম চলমান অবস্থায় আছে।</h1>
      <p>আপাহত ফিচারগুলো দেখার জন্য মেনু আইকনে Menu বাটনে ক্লিক করুন</p>
  </header>
  <section id="menu-section" class="container">
      <div class="menu-item" onclick="navigateTo('students')">
          <h2>১.স্টুডেন্ট ইনফরমেশন দেখার জন্য menu থেকে Students info তে ক্লিক করুন</h2>
      </div>
      <div class="menu-item" onclick="navigateTo('teachers')">
          <h2>২.টিচার ইনফরমেশন দেখার জন্য menu থেকে Teachers info তে ক্লিক করুন</h2>
      </div>
      <div class="menu-item" onclick="navigateTo('cv-generator')">
          <h2>৩.সিভি তৈরি করার জন্য menu থেকে Cv generator তে ক্লিক করুন</h2>
      </div>
      <div class="menu-item">
          <h2>৪.আমাদের সম্পর্কে জানতে <a href="https://prodhan2.github.io">এখানে ক্লিক করুন</a></h2>
      </div>
      <div class="menu-item" onclick="navigateTo('3d-statistics')">
          <h2>৫.থ্রিডি স্ট্যাটিস্টিক দেখেতে menu থেকে 3d statistics তে ক্লিক করুন</h2>
      </div>
      <div class="menu-item">
          <h2>৬.আপনি দিনাজপুর জেলার হয়ে থাকলে আপনার তথ্যগুলো <a href="forms.html">এখানে দিন</a></h2>
      </div>
  </section>
  <script>
      function navigateTo(page) {
          alert(`Navigating to ${page}`);
          // Here you can add actual navigation logic if needed
      }
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </div>
<!-- ---------------------------------------------------------------------------------------------------------------------------->

  <div id="about-us" class="hidden">
    <h2>About Us</h2>
    <p>Information about us will be here.</p>
  </div>
<!-- ---------------------------------------------------------------------------------------------------------------------------->
 <div id="student_info" class="hidden"> 

   <h2>Student Information</h2>
   <style>
    .footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: #343a40;
      color: white;
      text-align: center;
      padding: 10px 0;
    }
    .card {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      margin-bottom: 10px;
      background-color: #f9f9f9;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .card-title {
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
    }
    .card-text {
      color: #666;
      margin-bottom: 1rem;
    }
    .profile-pic,
    .profile-pic-modal {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid transparent; /* Initial transparent border */
      animation: borderAnimation 2s infinite; /* Animation properties */
    }
    .profile-pic-modal {
      width: 120px;
      height: 120px;
    }
    @keyframes borderAnimation {
      0% {
        border-color: red;
      }
      50% {
        border-color: green;
      }
      100% {
        border-color: red;
      }
    }
    /* Sidebar Styles */

    .custom-search-form {
      margin-bottom: 20px;
    }
    .custom-search-form input[type="text"] {
      width: calc(100% - 220px); /* Adjust as needed */
      padding: 0.375rem 0.75rem; /* Adjust padding */
      font-size: 0.875rem; /* Adjust font size */
    }
    .custom-search-form .btn {
      padding: 0.375rem 0.75rem; /* Adjust padding */
      font-size: 0.875rem; /* Adjust font size */
    }
    
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="my-4">
      
    </header>

    <!-- Search Box -->
    <div class="row">
      <div class="col-md-6 offset-md-3 mb-4 custom-search-form">
        <form class="form-inline">
          <input type="text" id="searchInput" class="form-control mr-sm-2" placeholder="Search by name, department">
          <button type="button" class="btn btn-primary my-2 my-sm-0 mr-2" onclick="searchStudents()">Search</button>
          <button type="button" class="btn btn-secondary my-2 my-sm-0" onclick="refreshStudents()">Refresh</button>
        </form>
      </div>
    </div>
    <!-- Result Count -->
    <div id="result-count"></div>

    <!-- Student List (Dynamically Populated) -->
    <div class="row" id="studentList">
      <!-- Student cards will be dynamically populated here -->
    </div>
  </div>

  <!-- Student Details Modal -->
  <div class="modal fade" id="studentModal" tabindex="-1" role="dialog" aria-labelledby="studentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="studentModalLabel">Student Details</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="text-center mb-3">
            <img id="modalProfilePic" src="https://via.placeholder.com/150" class="profile-pic" alt="Profile Picture">
          </div>
          <table class="table table-bordered">
            <tbody>
              <tr>
                <th>Name</th>
                <td id="modalName"></td>
              </tr>
              <tr>
                <th>Department</th>
                <td id="modalDepartment"></td>
              </tr>
              <tr>
                <th>Session</th>
                <td id="modalSession"></td>
              </tr>
              <tr>
                <th>Hall</th>
                <td id="modalHall"></td>
              </tr>
              <tr>
                <th>Blood Type</th>
                <td id="modalBlood"></td>
              </tr>
              <tr>
                <th>Upazila</th>
                <td id="modalUpazila"></td>
              </tr>
              
              <tr>
                <th>School</th>
                <td id="modalSchool"></td>
              </tr>
              <tr>
                <th>College</th>
                <td id="modalCollege"></td>
              </tr>
              
              <tr>
                <th>Email</th>
                <td id="modalEmail"></td>
              </tr>
              
            </tbody>
          </table>
          <div class="row">
            <div class="col-md-6">
              <a id="modalCallBtn" href="#" class="btn btn-success btn-block">Call Me</a>
            </div>
            <div class="col-md-6">
              <button id="modalDownloadBtn" class="btn btn-primary btn-block">Download Info</button>
            </div>
          </div>
          <div class="mt-3 text-center">
            <a id="modalFacebookBtn" href="#" class="btn btn-info" target="_blank">Facebook Profile</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    Powered by Dinajpur.RU
  </div>

  <script src="data.js"></script>
  <script src="dataview.js"></script>

  <!-- Sidebar Toggle Script -->
  <script>
    $(document).ready(function() {
      showStudentInfo(); // Populate student list on page load

      $('#sidebarToggle').on('click', function() {
        $('.sidebar').toggleClass('show');
      });
    });

    function refreshStudents() {
      // Implement your refresh logic here
      // For example, reload the student list
      showStudentInfo();
    }
  </script>
  </div>

 <!-- ************************************************************************************************//-->

  <div id="teacher-info" class="hidden">
    <h2>Teacher Information</h2>
    <p>Teacher information will be here.</p>
  </div>

  <div id="statistics" class="hidden">
   <!-- ************************************************************************************************//-->
    <style>
      body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
          background-color: #f8f9fa; /* Light gray background */
      }
      
      .header {
          background-color: #343a40; /* Dark background for header */
          color: #ffffff; /* White text color */
          text-align: center;
          padding: 20px 0;
          margin-bottom: 20px;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow */
      }
      
      .header h1 {
          margin: 0;
          font-size: 24px;
      }
      
      .chart-section {
          margin: 20px auto;
          width: 80%;
          max-width: 800px;
          background-color: #ffffff; /* White background for chart section */
          border: 1px solid #dee2e6; /* Light border */
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Slightly stronger shadow */
      }
      
      .chart-container {
          margin-bottom: 20px;
      }
      
      .footer {
          text-align: center;
          background-color: #343a40; /* Dark background for footer */
          color: #ffffff; /* White text color */
          padding: 10px 0;
          position: fixed;
          bottom: 0;
          width: 100%;
          box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1); /* Inverted shadow at bottom */
      }
      
      .share-button {
          cursor: pointer;
          background-color: #007bff; /* Blue share button */
          color: #ffffff; /* White text color */
          border: none;
          padding: 8px 16px;
          border-radius: 4px;
          margin-top: 10px;
          transition: background-color 0.3s ease;
      }
      
      .share-button:hover {
          background-color: #0056b3; /* Darker blue on hover */
      }
  </style>
</head>
<body>

  <div class="chart-section">
      <!-- Bar Chart Section: Number of Students per Upazila -->
      <div class="chart-container">
          <h2>Number of Students per Upazila</h2>
          <canvas id="upazilaChart"></canvas>
          <button id="shareUpazilaChart" class="share-button">Share Upazila Chart</button>
      </div>

      <!-- Bar Chart Section: Number of Students per Session -->
      <div class="chart-container">
          <h2>Number of Students per Session</h2>
          <canvas id="sessionChart"></canvas>
          <button id="shareSessionChart" class="share-button">Share Session Chart</button>
      </div>

      <!-- Pie Chart Section: Student Blood Type Distribution -->
      <div class="chart-container">
          <h2>Student Blood Type Distribution</h2>
          <canvas id="bloodTypeChart"></canvas>
          <button id="shareBloodTypeChart" class="share-button">Share Blood Type Chart</button>
      </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
  <script src="data.js"></script>

  <!-- ************************************************************************************************//-->
  <script >

      // Count students per session
const sessions = {};
studentData.forEach(student => {
  if (sessions[student.session]) {
      sessions[student.session]++;
  } else {
      sessions[student.session] = 1;
  }
});

const sessionLabels = Object.keys(sessions);
const sessionData = Object.values(sessions);

// Count students per upazila
const upazilas = {};
studentData.forEach(student => {
  if (upazilas[student.upazila]) {
      upazilas[student.upazila]++;
  } else {
      upazilas[student.upazila] = 1;
  }
});

const upazilaLabels = Object.keys(upazilas);
const upazilaData = Object.values(upazilas);

// Count blood types
const bloodTypes = {
  'A+': 0,
  'A-': 0,
  'B+': 0,
  'B-': 0,
  'AB+': 0,
  'AB-': 0,
  'O+': 0,
  'O-': 0
};

studentData.forEach(student => {
  bloodTypes[student.blood]++;
});

const bloodLabels = Object.keys(bloodTypes);
const bloodData = Object.values(bloodTypes);

// Chart.js initialization
const upazilaCtx = document.getElementById('upazilaChart').getContext('2d');
const upazilaChart = new Chart(upazilaCtx, {
  type: 'bar',
  data: {
      labels: upazilaLabels,
      datasets: [{
          label: 'Number of Students',
          data: upazilaData,
          backgroundColor: 'rgba(54, 162, 235, 0.6)',
          borderColor: 'rgba(54, 162, 235, 1)',
          borderWidth: 1
      }]
  },
  options: {
      scales: {
          y: {
              beginAtZero: true,
              precision: 0
          }
      }
  }
});

const sessionCtx = document.getElementById('sessionChart').getContext('2d');
const sessionChart = new Chart(sessionCtx, {
  type: 'bar',
  data: {
      labels: sessionLabels,
      datasets: [{
          label: 'Number of Students',
          data: sessionData,
          backgroundColor: 'rgba(255, 99, 132, 0.6)',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 1
      }]
  },
  options: {
      scales: {
          y: {
              beginAtZero: true,
              precision: 0
          }
      }
  }
});

const bloodTypeCtx = document.getElementById('bloodTypeChart').getContext('2d');
const bloodTypeChart = new Chart(bloodTypeCtx, {
  type: 'pie',
  data: {
      labels: bloodLabels,
      datasets: [{
          label: 'Blood Type Distribution',
          data: bloodData,
          backgroundColor: [
              'rgba(255, 99, 132, 0.6)',
              'rgba(54, 162, 235, 0.6)',
              'rgba(255, 206, 86, 0.6)',
              'rgba(75, 192, 192, 0.6)',
              'rgba(153, 102, 255, 0.6)',
              'rgba(255, 159, 64, 0.6)',
              'rgba(0, 255, 255, 0.6)',
              'rgba(255, 0, 255, 0.6)'
          ],
          borderColor: [
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(75, 192, 192, 1)',
              'rgba(153, 102, 255, 1)',
              'rgba(255, 159, 64, 1)',
              'rgba(0, 255, 255, 1)',
              'rgba(255, 0, 255, 1)'
          ],
          borderWidth: 1
      }]
  }
});

// Share buttons using html2canvas
const shareButtons = document.querySelectorAll('.share-button');

shareButtons.forEach(button => {
  button.addEventListener('click', async () => {
      const chartContainer = button.closest('.chart-container');
      const chartCanvas = chartContainer.querySelector('canvas');

      try {
          const canvas = await html2canvas(chartCanvas);
          const imageData = canvas.toDataURL('image/png');
          const a = document.createElement('a');
          a.href = imageData;
          a.download = 'chart.png';
          a.click();
      } catch (error) {
          console.error('Error capturing chart:', error);
      }
  });
});


  </script>
  </div>

  <div id="cv" class="hidden">
    <h2>Cv Generator</h2>
    <p>Information about us will be here.</p>
  </div>
</div>

<script>
  function openDrawer() {
    document.getElementById("myDrawer").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
  }

  function closeDrawer() {
    document.getElementById("myDrawer").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
  }

  function showSection(sectionId) {
    const sections = document.querySelectorAll('#main > div');
    sections.forEach(section => section.classList.add('hidden'));

    document.getElementById(sectionId).classList.remove('hidden');
  }
</script>

</body>
</html>
